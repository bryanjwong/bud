(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{102:function(t,e,a){},103:function(t,e,a){},133:function(t,e,a){"use strict";a.r(e);var i=a(4),r=a(0),n=a.n(r),c=a(15),s=a.n(c),o=(a(102),a(103),a(32)),l=a.n(o),d=a(51),m=a(18),u=a(166),b=a(171),h=a(169),j=a(87),p=a.n(j),g=a(88),x=a.n(g),O=a(85),f=a.n(O),y=a(86),S=a.n(y),v=Object(u.a)({root:{backgroundColor:"white",padding:"7px 30px",borderRadius:15,color:"#9C7E95",marginBottom:10,fontSize:14},date:{margin:0,float:"right",paddingTop:5}});var C=function(t){var e=v(),a=t.type;return Object(i.jsx)(h.a,{elevation:5,className:e.root,children:Object(i.jsxs)(b.a,{container:!0,children:[Object(i.jsxs)(b.a,{item:!0,xs:1,style:{marginTop:3},children:["moisture"==a&&Object(i.jsx)(f.a,{}),"humidity"==a&&Object(i.jsx)(S.a,{}),"temp"==a&&Object(i.jsx)(p.a,{}),"light"==a&&Object(i.jsx)(x.a,{})]}),Object(i.jsx)(b.a,{item:!0,xs:7,style:{paddingTop:5},children:t.message}),Object(i.jsx)(b.a,{item:!0,xs:4,children:Object(i.jsx)("p",{className:e.date,children:t.time.split("T")[1]})})]})})},w=a.p+"static/media/bud.c3563bee.png",N=Object(u.a)({root:{backgroundColor:"#94B143",padding:"30px 35px",height:"100vh"},header:{color:"white",fontSize:20,margin:"0 0 50px 0"},labels:{color:"white",marginBottom:10,fontSize:16,paddingLeft:30,paddingRight:30},footer:{position:"fixed",left:0,bottom:0,width:"100%",color:"white",marginLeft:25,fontWeight:"bold"},logo:{width:"40px",height:"40px"}});var D=function(t){var e=N(),a=t.tSoilMoisture,r=t.tHumidity,n=t.tTemp,c=t.tLight,s=t.soilMoistureData,o=t.humidityData,l=t.tempData,d=t.lightData;return Object(i.jsxs)(b.a,{className:e.root,children:[Object(i.jsxs)("h6",{className:e.header,children:["Activity Log for ",function(){var t=new Date;return String(t.getDate()).padStart(2,"0")+"/"+String(t.getMonth()+1).padStart(2,"0")+"/"+t.getFullYear()}()]}),Object(i.jsxs)(b.a,{container:!0,children:[Object(i.jsx)(b.a,{item:!0,xs:8,className:e.labels,children:"Status"}),Object(i.jsx)(b.a,{item:!0,xs:4,className:e.labels,children:Object(i.jsx)("p",{style:{margin:0,float:"right"},children:"Time"})})]}),s.length>0&&s.slice(-1)[0].y<a&&Object(i.jsx)(C,{message:"Moisture is low: Water your plant!",time:s.slice(-1)[0].t,type:"moisture"}),o.length>0&&o.slice(-1)[0].y<r&&Object(i.jsx)(C,{message:"It's not humid enough!",time:o.slice(-1)[0].t,type:"humidity"}),l.length>0&&l.slice(-1)[0].y<n&&Object(i.jsx)(C,{message:"Temperature is getting colder!",time:l.slice(-1)[0].t,type:"temp"}),d.length>0&&d.slice(-1)[0].y<c&&Object(i.jsx)(C,{message:"Your plant needs more light!",time:o.slice(-1)[0].t,type:"light"}),Object(i.jsx)("div",{className:e.footer,children:Object(i.jsxs)(b.a,{container:!0,children:[Object(i.jsx)("img",{src:w,className:e.logo}),Object(i.jsx)("h2",{style:{margin:"10px 5px"},children:"bud"})]})})]})},k=a(172),_=a(54),T=a.n(_);T.a.defaults.global.defaultFontFamily="Poppins",T.a.defaults.global.legend.display=!1,T.a.defaults.global.elements.line.tension=.5;var M=Object(u.a)({metricbutton:{backgroundColor:"white",color:"#8bc34a",fontSize:14,padding:"4px 20px",marginRight:"10px",fontFamily:"Poppins",textTransform:"none",borderRadius:10,"&:hover":{backgroundColor:"#8bc34a",color:"white"}}});var F=function(t){var e=M(),a=n.a.createRef(),c=Object(r.useState)("Soil Moisture"),s=Object(m.a)(c,2),o=s[0],l=s[1],d={"Soil Moisture":{y_label:"Soil Moisture (%)",data:t.soilMoistureData,lowGradient:"rgb(96, 188, 177, 0.2)",highGradient:"rgb(122, 206, 250, 1.0)"},Humidity:{y_label:"Air Humidity (%)",data:t.humidityData,lowGradient:"rgb(167, 191, 232, 0.2)",highGradient:"rgb(97, 144, 232, 1.0)"},Temperature:{y_label:"Temperature (\xb0F)",data:t.tempData,lowGradient:"rgb(255, 195, 160, 0.2)",highGradient:"rgb(255, 175, 189, 1.0)"},Luminance:{y_label:"Luminance (lx)",data:t.lightData,lowGradient:"rgb(255, 210, 0, 0.2)",highGradient:"rgb(247, 151, 30, 1.0)"}};Object(r.useEffect)((function(){var t=a.current.getContext("2d"),e=t.canvas.height,i=t.createLinearGradient(0,0,0,e);i.addColorStop(0,d[o].lowGradient),i.addColorStop(1,d[o].highGradient),new T.a(t,{type:"line",data:{datasets:[{label:o,data:d[o].data,borderColor:i,backgroundColor:i}]},options:{responsive:!0,maintainAspectRatio:!0,scales:{xAxes:[{type:"time",time:{tooltipFormat:"MMM D, h:mm a"},bounds:"data",scaleLabel:{display:!0,labelString:"Time",fontColor:"#87753F",fontSize:16},ticks:{display:!0,maxTicksLimit:10,maxRotation:0},gridLines:{display:!1,drawBorder:!0}}],yAxes:[{offset:!0,scaleLabel:{display:!0,labelString:d[o].y_label,fontColor:"#87753F",fontSize:16},ticks:{display:!0},gridLines:{display:!0,drawBorder:!1}}]},tooltips:{displayColors:!1,backgroundColor:"white",titleFontColor:"#8bc34a",bodyFontColor:d[o].highGradient}}})}));var u="Soil Moisture"===o?{backgroundColor:" #8bc34a",color:"white"}:{},h="Humidity"===o?{backgroundColor:" #8bc34a",color:"white"}:{},j="Temperature"===o?{backgroundColor:" #8bc34a",color:"white"}:{},p="Light"===o?{backgroundColor:" #8bc34a",color:"white"}:{};return Object(i.jsxs)(b.a,{container:!0,children:[Object(i.jsxs)(b.a,{item:!0,xs:10,children:[Object(i.jsx)(k.a,{id:"b1",className:e.metricbutton,style:u,onClick:function(){return l("Soil Moisture")},children:"Soil Moisture"}),Object(i.jsx)(k.a,{id:"b2",className:e.metricbutton,style:h,onClick:function(){return l("Humidity")},children:"Humidity"}),Object(i.jsx)(k.a,{id:"b3",className:e.metricbutton,style:j,onClick:function(){return l("Temperature")},children:"Temperature"}),Object(i.jsx)(k.a,{id:"b4",className:e.metricbutton,style:p,onClick:function(){return l("Luminance")},children:"Light"})]}),Object(i.jsx)(b.a,{item:!0,xs:10,children:Object(i.jsx)("div",{children:Object(i.jsx)("canvas",{id:"myChart",ref:a})})})]})},L=Object(u.a)({root:{padding:10,borderRadius:10,textAlign:"center"},label:{color:"#87753F",fontSize:15,margin:"10px 0 0 0",fontWeight:"bold"},actual:{color:"#7EA7CB",fontSize:35,margin:0},target:{color:"#94B143",fontSize:35,margin:0},actualSublabel:{color:"#7EA7CB",margin:0},targetSublabel:{color:"#94B143",margin:0}});var B=function(t){var e=L();return Object(i.jsx)(h.a,{elevation:0,className:e.root,children:Object(i.jsxs)(b.a,{container:!0,children:[Object(i.jsxs)(b.a,{item:!0,xs:6,children:[Object(i.jsx)("p",{className:e.actual,style:{color:t.color},children:t.actual}),Object(i.jsx)("p",{className:e.actualSublabel,style:{color:t.color},children:"Actual"})]}),Object(i.jsxs)(b.a,{item:!0,xs:6,children:[Object(i.jsx)("p",{className:e.target,children:t.target}),Object(i.jsx)("p",{className:e.targetSublabel,children:"Target"})]}),Object(i.jsx)(b.a,{item:!0,xs:12,children:Object(i.jsx)("p",{className:e.label,children:t.metric})})]})})},H=a(68),P=a.n(H),G=a(177),z=a(173),A=a.p+"static/media/newplant.01800a77.png",I=a(174),R=a(175),W=a(178),E=Object(u.a)({root:{backgroundColor:"#F5F5FB",padding:"30px 60px",height:"100vh"},header:{color:"#94B143",fontSize:20,margin:"0 0 35px 0"},labels:{color:"#87753F",fontSize:17,fontWeight:"bold"},button:{backgroundColor:"white",color:"#8bc34a",fontSize:14,padding:"4px 20px",fontFamily:"Poppins",textTransform:"none",borderRadius:10,float:"right","&:hover":{backgroundColor:"#8bc34a",color:"white"}},image:{paddingTop:20,width:200,height:200},modal:{padding:30},modalConditionHeader:{color:"#87753F",fontWeight:"bold",marginBottom:5},modalConditions:{color:"#87753F",margin:0},plantButton:{backgroundColor:"#8bc34a",color:"white",fontSize:18,padding:"4px 20px",fontFamily:"Poppins",textTransform:"none",borderRadius:10,float:"right","&:hover":{backgroundColor:"#17402e"}}});var Z=function(t){var e=E(),a=Object(r.useState)(!1),n=Object(m.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)(""),u=Object(m.a)(o,2),h=u[0],j=u[1],p=Object(r.useState)(40),g=Object(m.a)(p,2),x=g[0],O=g[1],f=Object(r.useState)(40),y=Object(m.a)(f,2),S=y[0],v=y[1],C=Object(r.useState)(50),w=Object(m.a)(C,2),N=w[0],D=w[1],_=Object(r.useState)(10),T=Object(m.a)(_,2),M=T[0],L=T[1],H=Object(r.useState)("N/A"),Z=Object(m.a)(H,2),Y=Z[0],q=Z[1],J=Object(r.useState)("N/A"),Q=Object(m.a)(J,2),K=Q[0],U=Q[1],V=Object(r.useState)("N/A"),X=Object(m.a)(V,2),$=X[0],tt=X[1],et=Object(r.useState)("N/A"),at=Object(m.a)(et,2),it=at[0],rt=at[1],nt=t.soilMoistureData.length>0?t.soilMoistureData.slice(-1)[0].y+"%":"?",ct=t.humidityData.length>0?t.humidityData.slice(-1)[0].y+"%":"?",st=t.tempData.length>0?t.tempData.slice(-1)[0].y+"\xb0F":"?",ot=t.lightData.length>0?t.lightData.slice(-1)[0].y+"lx":"?";function lt(){return(lt=Object(d.a)(l.a.mark((function e(a){var i,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.searchPlant(a.target.value);case 2:i=e.sent,r=i.data.data.growth,j(a.target.value),r.soil_humidity&&O(r.soil_humidity),r.atmospheric_humidity&&v(10*r.atmospheric_humidity),r.minimum_temperature&&D(r.minimum_temperature.deg_f),r.light&&L(4*r.light),r.minimum_precipitation&&q(r.minimum_precipitation.mm+"mm/yr"),r.minimum_root_depth&&U(r.minimum_root_depth.cm),r.ph_minimum&&r.ph_maximum&&tt(r.ph_minimum+" - "+r.ph_maximum),r.soil_nutriments&&rt(r.soil_nutriments);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.jsxs)(b.a,{className:e.root,children:[Object(i.jsxs)(b.a,{container:!0,children:[Object(i.jsx)(b.a,{item:!0,xs:6,children:Object(i.jsx)("h6",{className:e.header,children:"Dashboard"})}),Object(i.jsx)(b.a,{item:!0,xs:6,children:Object(i.jsx)(k.a,{startIcon:Object(i.jsx)(P.a,{}),className:e.button,onClick:function(){s(!0)},children:"Track a new plant"})})]}),Object(i.jsxs)("p",{className:e.labels,children:["Your ",t.species.toLowerCase(),"'s progress"]}),Object(i.jsx)(F,{soilMoistureData:t.soilMoistureData,humidityData:t.humidityData,tempData:t.tempData,lightData:t.lightData}),Object(i.jsx)("p",{className:e.labels,children:"Helpful stats"}),Object(i.jsxs)(b.a,{container:!0,spacing:2,children:[Object(i.jsx)(b.a,{item:!0,xs:3,children:Object(i.jsx)(B,{metric:"Soil Moisture",actual:nt,target:t.tSoilMoisture,color:"rgb(122, 206, 250, 1.0)"})}),Object(i.jsx)(b.a,{item:!0,xs:3,children:Object(i.jsx)(B,{metric:"Humidity",actual:ct,target:t.tHumidity,color:"rgb(97, 144, 232, 1.0)"})}),Object(i.jsx)(b.a,{item:!0,xs:3,children:Object(i.jsx)(B,{metric:"Temperature",actual:st,target:t.tTemp,color:"rgb(255, 175, 189, 1.0)"})}),Object(i.jsx)(b.a,{item:!0,xs:3,children:Object(i.jsx)(B,{metric:"Light",actual:ot,target:t.tLight,color:"rgb(247, 151, 30, 1.0)"})})]}),Object(i.jsx)(G.a,{open:c,onClose:function(){s(!1)},className:e.modal,fullWidth:!0,maxWidth:"sm",children:Object(i.jsxs)(z.a,{className:e.modal,children:[Object(i.jsxs)(b.a,{container:!0,children:[Object(i.jsxs)(b.a,{item:!0,xs:8,children:[Object(i.jsx)("h3",{style:{color:"#233F30",margin:"10px 0 0 0"},children:"What species are you tracking?"}),Object(i.jsx)(I.a,{style:{minWidth:150,marginTop:2},children:Object(i.jsxs)(R.a,{onChange:function(t){return lt.apply(this,arguments)},displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[Object(i.jsx)(W.a,{value:"",children:Object(i.jsx)("em",{children:"None"})}),Object(i.jsx)(W.a,{value:"Sunflower",children:"Sunflower"}),Object(i.jsx)(W.a,{value:"Daisy",children:"Daisy"}),Object(i.jsx)(W.a,{value:"Garden Tomato",children:"Garden Tomato"})]})}),Object(i.jsx)("p",{className:e.modalConditionHeader,children:"Find out its ideal conditions"}),Object(i.jsxs)("p",{className:e.modalConditions,children:["Soil Moisture: ",x,"%"]}),Object(i.jsxs)("p",{className:e.modalConditions,children:["Humidity: ",S,"%"]}),Object(i.jsxs)("p",{className:e.modalConditions,children:["Min Temperature: ",N,"\xb0F"]}),Object(i.jsxs)("p",{className:e.modalConditions,children:["Light: ",M," lx"]}),Object(i.jsxs)("p",{className:e.modalConditions,children:["Precipitation: ",Y]}),Object(i.jsx)("p",{className:e.modalConditionHeader,children:"Planting Tips:"}),Object(i.jsxs)("p",{className:e.modalConditions,children:["Min Root Depth: ",K," cm"]}),Object(i.jsxs)("p",{className:e.modalConditions,children:["Soil pH: ",$]}),Object(i.jsxs)("p",{className:e.modalConditions,children:["Soil Nutriments: ",it]})]}),Object(i.jsx)(b.a,{item:!0,xs:4,children:Object(i.jsx)("img",{src:A,className:e.image})})]}),Object(i.jsx)(k.a,{startIcon:Object(i.jsx)(P.a,{}),className:e.plantButton,onClick:function(){""!==h&&(t.createNewPlant(h),s(!1))},children:"Plant it!"})]})})]})},Y=a(69),q=a.n(Y),J=a(70);J.a.initializeApp({apiKey:"AIzaSyC-WhzpjEb2PwWmn-yZWaizB7rFZD6yyAE",authDomain:"bud-project-d6a10.firebaseapp.com",databaseURL:"https://bud-project-d6a10-default-rtdb.firebaseio.com",projectId:"bud-project-d6a10",storageBucket:"bud-project-d6a10.appspot.com",messagingSenderId:"1020962827599",appId:"1:1020962827599:web:13853a36b2e53812c1693a"});var Q=J.a.database(),K=Object(u.a)(),U="https://cors-anywhere.herokuapp.com/";var V=function(){K();var t=Object(r.useState)(40),e=Object(m.a)(t,2),a=e[0],n=e[1],c=Object(r.useState)(40),s=Object(m.a)(c,2),o=s[0],u=s[1],h=Object(r.useState)(50),j=Object(m.a)(h,2),p=j[0],g=j[1],x=Object(r.useState)(10),O=Object(m.a)(x,2),f=O[0],y=O[1],S=Object(r.useState)([]),v=Object(m.a)(S,2),C=v[0],w=v[1],N=Object(r.useState)([]),k=Object(m.a)(N,2),_=k[0],T=k[1],M=Object(r.useState)([]),F=Object(m.a)(M,2),L=F[0],B=F[1],H=Object(r.useState)([]),P=Object(m.a)(H,2),G=P[0],z=P[1],A=Object(r.useState)("sunflower"),I=Object(m.a)(A,2),R=I[0],W=I[1];function E(t){return Y.apply(this,arguments)}function Y(){return(Y=Object(d.a)(l.a.mark((function t(e){var a,i,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q.a.get(U+"https://trefle.io/api/v1/species/search?token=R8xZcZH6j9PoyOTqoGc_Pndhdvx6nM1aD7FGHYBQc2M",{params:{q:e}});case 2:if(0!=(a=t.sent).data.data.length){t.next=6;break}return console.log("No results found."),t.abrupt("return");case 6:return i=a.data.data[0].id,t.next=9,q.a.get(U+"https://trefle.io/api/v1/species/".concat(i,"?token=R8xZcZH6j9PoyOTqoGc_Pndhdvx6nM1aD7FGHYBQc2M"));case 9:return r=t.sent,t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(){return(J=Object(d.a)(l.a.mark((function t(e){var i,r,c,s,d,m,b;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e);case 2:if(i=t.sent){t.next=5;break}return t.abrupt("return");case 5:r=i.data.data,c=r.growth,s=c.soil_humidity?c.soil_humidity:a,d=c.atmospheric_humidity?10*c.atmospheric_humidity:o,m=c.minimum_temperature?c.minimum_temperature.deg_f:p,b=c.light?4*c.light:f,W(r.common_name),n(s),u(d),g(m),y(b),V(r.common_name,r.scientific_name,s,d,m,b);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function V(t,e,a,i,r,n){var c=new Date;Q.ref("active-plant/target").set({soil_moisture:a,humidity:i,temp:r,light:n,species:t,scientific_name:e,date_planted:c.toISOString()})}return Object(r.useEffect)((function(){!function(){var t=[],e=[],a=[],i=[],r=Q.ref("active-plant/data");r.once("value").then((function(r){r.forEach((function(r){var n=r.key,c=r.val().split(",");t.push({t:n,y:parseInt(c[0])}),e.push({t:n,y:parseInt(c[1])}),a.push({t:n,y:parseInt(c[2])}),i.push({t:n,y:parseInt(c[3])})})),w(t),T(e),B(a),z(i)})),(r=Q.ref("active-plant/target")).once("value").then((function(t){t.forEach((function(t){switch(t.key){case"soil_moisture":n(t.val());break;case"humidity":u(t.val());break;case"temp":g(t.val());break;case"light":y(t.val());break;case"species":W(t.val())}}))}))}()}),[]),Object(i.jsxs)(b.a,{container:!0,children:[Object(i.jsx)(b.a,{item:!0,xs:12,lg:4,children:Object(i.jsx)(D,{tSoilMoisture:a,tHumidity:o,tTemp:p,tLight:f,soilMoistureData:C,humidityData:_,tempData:L,lightData:G})}),Object(i.jsx)(b.a,{item:!0,xs:12,lg:8,children:Object(i.jsx)(Z,{species:R,tSoilMoisture:a,tHumidity:o,tTemp:p,tLight:f,soilMoistureData:C,humidityData:_,tempData:L,lightData:G,searchPlant:E,createNewPlant:function(t){return J.apply(this,arguments)}})})]})};var X=function(){return Object(i.jsx)(V,{})},$=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,180)).then((function(e){var a=e.getCLS,i=e.getFID,r=e.getFCP,n=e.getLCP,c=e.getTTFB;a(t),i(t),r(t),n(t),c(t)}))};s.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(X,{})}),document.getElementById("root")),$()}},[[133,1,2]]]);
//# sourceMappingURL=main.71997f06.chunk.js.map